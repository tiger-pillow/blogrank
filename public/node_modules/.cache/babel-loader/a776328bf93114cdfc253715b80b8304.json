{"ast":null,"code":"import _slicedToArray from \"/Users/gladys/Desktop/blogrank/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/gladys/Desktop/blogrank/client/src/components/BlogCard2.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport GridSystem from './gridSystem';\nimport { Card, Button } from 'react-bootstrap';\nimport ThumbUpIcon from '@mui/icons-material/ThumbUp';\nimport './components.css';\nimport axios from 'axios';\n\nvar BlogCard = function BlogCard() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      items = _useState2[0],\n      setItems = _useState2[1];\n\n  console.log(\"original items is\", items);\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      upvotes = _useState4[0],\n      setUpvotes = _useState4[1];\n\n  useEffect(function () {\n    // get the list of cards to Items\n    axios.get(\"http://localhost:4000/getAllBlogs\").then(function (response) {\n      setItems(response.data);\n      console.log(\"useEffect setup\", items);\n    }).catch(function () {\n      console.log('ERR inside useEffect');\n    });\n  }, []); // setListOfFriends(\n  //   listOfFriends.map((val) => {\n  //     return val._id == id ? { _id: id, name: val.name, age: newAge } : val;\n  //   })\n  // );\n\n  var upVote = function upVote(id) {\n    console.log(\"inside upVote function\", id);\n    axios.put('http://localhost:4000/incrementUpvote', {\n      id: id\n    }).then(function () {\n      setItems(items.map(function (item) {\n        return item._id == id ? {\n          _id: id,\n          comments: item.comments,\n          upvotes: item.upvotes + 1\n        } : item;\n      }));\n    }).catch(function () {\n      console.log(\"Upvote error \");\n    });\n  };\n\n  var makeCard = function makeCard(item) {\n    console.log(\"inside makeCard, item is\", item); //setUpvotes(item.upvotes)\n\n    return /*#__PURE__*/React.createElement(Card, {\n      className: \"Card\",\n      key: item._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      as: \"h5\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, item.name), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card.Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }\n    }, \"by: \", item.author, \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 31\n      }\n    }), \"comments: \", /*#__PURE__*/React.createElement(\"ul\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 23\n      }\n    }, \" \", item.comments.map(function (oneComment) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 61\n        }\n      }, \" \", oneComment);\n    }), \" \"), \"upvotes: \", item.upvotes), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      onClick: function onClick() {\n        upVote(item._id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }, \" \", /*#__PURE__*/React.createElement(ThumbUpIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 57\n      }\n    }), \" Like! \")));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(GridSystem, {\n    colCount: 3,\n    md: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, items.map(function (item) {\n    return makeCard(item);\n  })));\n};\n\nexport default BlogCard;","map":{"version":3,"sources":["/Users/gladys/Desktop/blogrank/client/src/components/BlogCard2.js"],"names":["React","useEffect","useState","GridSystem","Card","Button","ThumbUpIcon","axios","BlogCard","items","setItems","console","log","upvotes","setUpvotes","get","then","response","data","catch","upVote","id","put","map","item","_id","comments","makeCard","name","author","oneComment"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport GridSystem from './gridSystem';\nimport { Card, Button } from 'react-bootstrap';\nimport ThumbUpIcon from '@mui/icons-material/ThumbUp';\nimport './components.css'\nimport axios from 'axios';\n\nconst BlogCard = () => {\n  const [items, setItems] = useState([]);\n  console.log(\"original items is\", items);\n  const [upvotes, setUpvotes] = useState(0); \n\n  useEffect(() => { // get the list of cards to Items\n    axios.get(\"http://localhost:4000/getAllBlogs\")\n      .then((response) => {\n        setItems(response.data)\n        console.log(\"useEffect setup\", items);\n      })\n      .catch(() => {\n        console.log('ERR inside useEffect');\n      });\n  }, []); \n\n\n  // setListOfFriends(\n  //   listOfFriends.map((val) => {\n  //     return val._id == id ? { _id: id, name: val.name, age: newAge } : val;\n  //   })\n  // );\n\n  const upVote = (id) => {\n    console.log(\"inside upVote function\", id);\n    axios.put('http://localhost:4000/incrementUpvote', { id: id })\n      .then(()=>{\n        setItems(\n          items.map((item) => {\n            return item._id == id ? {_id:id, comments: item.comments, upvotes: item.upvotes+1 }: item\n          })\n        )\n      })\n      .catch(()=>{\n        console.log(\"Upvote error \");\n      })\n      \n  }\n\n  const makeCard = (item) => {\n    console.log(\"inside makeCard, item is\", item);\n    //setUpvotes(item.upvotes)\n    return(\n      <Card className='Card' key={item._id}>\n        <Card.Header as=\"h5\">{item.name}</Card.Header>\n        <Card.Body>\n          <Card.Text>\n            by: {item.author} <br></br>\n            comments: <ul> {item.comments.map(oneComment => <li> {oneComment}</li>\n            )} </ul>\n            upvotes: {item.upvotes}\n          </Card.Text>\n          <br></br>\n          <Button onClick={() => { upVote(item._id) }}> <ThumbUpIcon /> Like! </Button>\n        </Card.Body>\n      </Card>\n    )\n  }\n\n  return (\n      <div>\n        <GridSystem colCount={3} md={4}>\n          {\n            items.map((item) => {return makeCard(item)})\n          }\n        </GridSystem>\n      </div>\n  )\n}\n\nexport default BlogCard; \n\n"]},"metadata":{},"sourceType":"module"}